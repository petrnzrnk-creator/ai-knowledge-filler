---
title: Metadata Template Standard
type: reference
domain: ai-system
level: advanced
status: active
version: v1.2
tags:
  - metadata
  - yaml
  - standard
  - template
  - obsidian
related:
  - "[[Custom Instructions — AI Working Profile]]"
  - "[[ai-knowledge-filler (copy)/Core_System/System_Prompt_AI_Knowledge_Filler]]"
  - "[[File_Update_Protocol]]"
  - "[[Domain_Taxonomy]]"
created: 2026-02-06
updated: 2026-02-13
---

## PURPOSE

Unified YAML metadata standard for all Obsidian knowledge files generated by AI Knowledge Filler system.

---

## STANDARD TEMPLATE

```yaml
---
title: "<Brief precise title>"
type: "<concept | guide | reference | checklist | project | roadmap | template | audit>"
domain: "<from Domain_Taxonomy>"
level: "<beginner | intermediate | advanced>"
status: "<draft | active | completed | archived>"
version: "<optional: v1.0, v2.1, etc.>"
tags: [tag1, tag2, tag3]
related:
  - "[[Related note 1]]"
  - "[[Related note 2]]"
created: YYYY-MM-DD
updated: YYYY-MM-DD
---
```

---

## FIELD SPECIFICATIONS

### **title**
- **Required:** Yes
- **Format:** String, 3-60 characters
- **Purpose:** Human-readable file identifier
- **Rules:**
  - Precise, without extra words
  - Unique within the domain
  - Without prefixes like "Note:", "File:"

---

### **type**
- **Required:** Yes
- **Format:** Enum
- **Values:**
  - `concept` — theoretical entity, definition
  - `guide` — step-by-step instruction, process
  - `reference` — reference material, specification
  - `checklist` — list of checks, criteria
  - `project` — project description, initiative
  - `roadmap` — development plan, strategy
  - `template` — template for creating other files
  - `audit` — report on inspection, analysis
- **Rules:**
  - One file = one type
  - When in doubt: `reference`

---

### **domain**
- **Required:** Yes
- **Format:** String (lowercase, hyphenated)
- **Purpose:** Categorization by knowledge area
- **Rules:**
  - Use [[Domain_Taxonomy]]
  - One main domain
  - Additional domains — via tags

---

### **level**
- **Required:** Yes
- **Format:** Enum
- **Values:**
  - `beginner` — basic concepts, minimal prerequisites
  - `intermediate` — requires basic understanding of the domain
  - `advanced` — deep knowledge, architectural level
- **Default:** `intermediate`
- **Rules:**
  - Level is determined by minimum reader requirements

---

### **status**
- **Required:** Yes
- **Format:** Enum
- **Values:**
  - `draft` — in the process of creation
  - `active` — ready for use
  - `completed` — finalized, does not require refinement
  - `archived` — outdated, saved for history
- **Default:** `active`
- **Rules:**
  - AI-generated files by default `active`
  - `draft` only if explicitly specified by user

---

### **version** (optional)
- **Required:** No
- **Format:** Semantic versioning (vX.Y) or simple (v1, v2)
- **Purpose:** Tracking major changes
- **Rules:**
  - Use for files requiring versioning
  - Version change = significant revision

---

### **tags**
- **Required:** Yes
- **Format:** Array of strings
- **Rules:**
  - Minimum 3, maximum 10
  - lowercase, hyphenated
  - Include: domain, content type, key terms
  - Avoid duplication with `domain` and `type`

---

### **related**
- **Required:** No (but recommended)
- **Format:** YAML array of quoted strings (WikiLink format)
- **Purpose:** Graph connections, navigation
- **Rules:**
  - Minimum 2-3 connections when available
  - Only actually related files
  - Bidirectional connections are maintained manually
  - Each link must be quoted: `"[[Page Name]]"`
- **Syntax Example:**
  ```yaml
  related:
    - "[[Related note 1]]"
    - "[[Related note 2]]"
  ```

**Technical Note:**
Quotes are required because square brackets `[]` have special meaning in YAML. Quoting them treats the entire WikiLink as a literal string, which both YAML parsers and Obsidian Properties can handle correctly.

---

### **created**
- **Required:** Yes
- **Format:** `YYYY-MM-DD`
- **Purpose:** Creation timestamp
- **Rules:**
  - Set during first generation
  - Never changes

---

### **updated**
- **Required:** Yes
- **Format:** `YYYY-MM-DD`
- **Purpose:** Last modification timestamp
- **Rules:**
  - Updated with each change
  - On creation = `created`

---

## VALIDATION RULES

### ✅ Valid Example
```yaml
---
title: "API Rate Limiting Strategy"
type: guide
domain: system-design
level: intermediate
status: active
version: v1.2
tags: [api, rate-limiting, performance, architecture]
related:
  - "[[API Design Principles]]"
  - "[[System Scalability Patterns]]"
created: 2026-01-15
updated: 2026-02-06
---
```

### ❌ Invalid Example
```yaml
---
title: Note about APIs  # Too vague
type: document  # Invalid type
domain: Tech  # Not lowercase/hyphenated
level: medium  # Invalid value
status: wip  # Invalid value
tags: api  # Not an array
related:
  - [[Link]]  # Missing quotes (causes YAML parse errors)
created: 06-02-2026  # Wrong format
---
```

---

## TECHNICAL NOTES

### Why Quotes Are Required for Related Links

**YAML Specification:**
Square brackets `[]` denote flow sequences in YAML:
```yaml
# This is interpreted as nested array:
related:
  - [[Link]]  # YAML parser error: unexpected '['
```

**Solution:**
Quote the entire WikiLink to treat it as a literal string:
```yaml
# Valid YAML + Obsidian compatible:
related:
  - "[[Link]]"
```

**Obsidian Compatibility:**
- Obsidian recognizes `[[]]` syntax inside quoted strings
- Properties view renders them as clickable links
- Graph view includes these connections
- Backlinks panel tracks bidirectional references

---

## YAML TECHNICAL SPECIFICATION

### related field structure

**Type:** `list[str]`  
**Element format:** Quoted string containing WikiLink syntax  
**WikiLink pattern:** `[[Page Name]]` or `[[Page Name|Alias]]`

**Valid variations:**
```yaml
# Standard format (recommended)
related:
  - "[[Page One]]"
  - "[[Page Two]]"

# With aliases
related:
  - "[[Full Page Name|Short Alias]]"
  
# With special characters
related:
  - "[[Page: With Colon]]"
  - "[[Page [with brackets]]]"
  - "[[Page, With, Commas]]"
```

**Invalid formats:**
```yaml
# ❌ Without quotes (YAML parser error)
related:
  - [[Link]]

# ❌ Inline array (harder to read/maintain)
related: ["[[Link1]]", "[[Link2]]"]

# ❌ Plain text (not recognized as link by Obsidian)
related:
  - "Link without brackets"

# ❌ Single string (not an array)
related: "[[Single Link]]"
```

**Validation regex:**
```regex
^"?\[\[[^\]]+\]\]"?$
```

---

## USAGE CONTEXTS

### AI-Generated Files
- All fields required except `version`
- `status` defaults to `active`
- `level` defaults to `intermediate`
- `related` links must be quoted

### User-Created Files
- Recommended to follow standard
- Can omit `version` and `related`
- Can add custom fields (prefixed with `x-`)

### Updated Files
- Always update `updated` field
- Increment `version` if major changes
- Preserve `created` field
- Merge `related` links additively (preserve + add)

---

## INTEGRATION

### With [[ai-knowledge-filler (copy)/Core_System/System_Prompt_AI_Knowledge_Filler]]
- Template is enforced in FILE FORMAT section
- AI always generates compliant YAML
- Quotes automatically added to related links

### With [[File_Update_Protocol]]
- Metadata merge rules reference this standard
- Conflict resolution follows field priority
- Related links merged as union (no duplicates)

### With [[Domain_Taxonomy]]
- `domain` field must match taxonomy
- New domains require taxonomy update
- Invalid domains trigger validation error

---

## EXTENSION RULES

### Custom Fields
- Prefix with `x-` (e.g., `x-client: "CompanyName"`)
- Must not conflict with standard fields
- Document in file or separate reference

### Domain-Specific Fields
- Allowed when essential (e.g., `author:` for blog posts)
- Should not replace standard fields
- Keep minimal

---

## MAINTENANCE

### When to Update This Standard
- New `type` values needed across multiple files
- New `status` states required
- Field format changes
- YAML syntax issues discovered

### Backward Compatibility
- Existing files remain valid
- Migration not required immediately
- Gradual adoption allowed
- Update `version` field when standard changes

---

## QUALITY CHECKLIST

- [ ] All required fields present
- [ ] Enums match allowed values
- [ ] Dates in ISO format (YYYY-MM-DD)
- [ ] Tags array, not string
- [ ] Domain matches taxonomy
- [ ] Related links use `"[[]]"` syntax with quotes
- [ ] No typos in field names
- [ ] YAML validates with PyYAML/ruamel.yaml

---

## VALIDATION SCRIPT

```python
import yaml

def validate_metadata(filepath):
    with open(filepath) as f:
        content = f.read()
    
    # Extract YAML
    yaml_content = content.split('---')[1]
    metadata = yaml.safe_load(yaml_content)
    
    # Required fields
    required = ['title', 'type', 'domain', 'level', 
                'status', 'tags', 'created', 'updated']
    
    for field in required:
        assert field in metadata, f"Missing: {field}"
    
    # Validate related links have quotes
    if 'related' in metadata and metadata['related']:
        for link in metadata['related']:
            assert link.startswith('[[') and link.endswith(']]'), \
                f"Related link missing brackets: {link}"
    
    print("✅ Valid")
```

---

## MIGRATION GUIDE

### Updating Existing Files

**Before:**
```yaml
related:
  - [[Link 1]]
  - [[Link 2]]
```

**After:**
```yaml
related:
  - "[[Link 1]]"
  - "[[Link 2]]"
```

**Automated Migration:**
Use the QuickAdd macro `fix-related-yaml.js` to batch update all files:
1. Install QuickAdd plugin
2. Add macro script
3. Run: Cmd/Ctrl + P → "Fix Related YAML"
4. Verify changes in git diff

**Manual Update:**
```bash
# Find files needing update
grep -r 'related:' --include="*.md" -A 5 | grep -v '"'

# Update each file:
# 1. Open in Obsidian
# 2. Edit YAML frontmatter
# 3. Add quotes around WikiLinks
# 4. Save
```

---

## CONCLUSION

This standard ensures consistency, searchability, and automation compatibility across all Obsidian knowledge files in the AI Knowledge Filler system.

**Key Requirements:**
- YAML-compliant syntax (validated by parsers)
- Obsidian-compatible WikiLinks (clickable in Properties)
- Machine-readable structure (automation-friendly)
- Human-readable format (maintainable)

**Version History:**
- v1.0 (2026-02-06): Initial standard
- v1.1 (2026-02-11): Added quote requirement for related links, technical notes, validation examples